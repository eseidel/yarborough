responses:
  - pattern: "1N P"
    rules:
      - call: "2C"
        variants:
          - name: "Stayman (5-4 Majors)"
            priority: 30
            description: "8+ HCP, 5 Spades, 4 Hearts"
            constraints:
              - type: MinHCP
                min: 8
              - type: MinLength
                suit: Spades
                count: 5
              - type: MinLength
                suit: Hearts
                count: 4
              - type: MaxLength
                suit: Hearts
                count: 4

          - name: "Stayman (4-5 Majors)"
            priority: 30
            description: "8+ HCP, 4 Spades, 5 Hearts"
            constraints:
              - type: MinHCP
                min: 8
              - type: MinLength
                suit: Spades
                count: 4
              - type: MaxLength
                suit: Spades
                count: 4
              - type: MinLength
                suit: Hearts
                count: 5

          - name: "Stayman (Club Slam Try)"
            priority: 15
            description: "10+ HCP, 6+ Clubs"
            constraints:
              - type: MinHCP
                min: 10
              - type: MinLength
                suit: Clubs
                count: 6

          - name: "Stayman (Diamond Slam Try)"
            priority: 15
            description: "10+ HCP, 6+ Diamonds"
            constraints:
              - type: MinHCP
                min: 10
              - type: MinLength
                suit: Diamonds
                count: 6

          - name: "Stayman (4H)"
            priority: 10
            description: "8+ HCP, 4 Hearts"
            constraints:
              - type: MinHCP
                min: 8
              - type: MinLength
                suit: Hearts
                count: 4

          - name: "Stayman (4S)"
            priority: 10
            description: "8+ HCP, 4 Spades"
            constraints:
              - type: MinHCP
                min: 8
              - type: MinLength
                suit: Spades
                count: 4

          - name: "Stayman (5S 5D Game Force)"
            priority: 25
            description: "Checkback with 5S 5D, GF"
            constraints:
              - type: MinHCP
                min: 13
              - type: MinLength
                suit: Spades
                count: 5
              - type: MinLength
                suit: Diamonds
                count: 5

  # Opener's rebid after Stayman
  - pattern: "1N P 2C P"
    rules:
      - call: "2D"
        variants:
          - name: "No 4-card Major"
            priority: 10
            description: "Denied 4-card major after Stayman"
            constraints:
              - type: MaxLength
                suit: Hearts
                count: 3
              - type: MaxLength
                suit: Spades
                count: 3
      - call: "2H"
        variants:
          - name: "4-card Heart Suit"
            priority: 21
            description: "Shows 4 hearts after Stayman"
            constraints:
              - type: MinLength
                suit: Hearts
                count: 4
      - call: "2S"
        variants:
          - name: "4-card Spade Suit"
            priority: 20
            description: "Shows 4 spades after Stayman"
            constraints:
              - type: MinLength
                suit: Spades
                count: 4

  # Responder rebid after Stayman (Partner denied major)
  - pattern: "1N P 2C P 2D P"
    rules:
      - call: "3S"
        variants:
          - name: "Smolen / 5S-4H Game Force"
            priority: 20
            description: "10-15 HCP, 5 Spades, 4 Hearts"
            constraints:
              - type: MinHCP
                min: 10
              - type: MinLength
                suit: Spades
                count: 5
              - type: MinLength
                suit: Hearts
                count: 4

      - call: "3H"
        variants:
          - name: "Smolen / 5H-4S Game Force"
            priority: 20
            description: "10-15 HCP, 5 Hearts, 4 Spades"
            constraints:
              - type: MinHCP
                min: 10
              - type: MinLength
                suit: Hearts
                count: 5
              - type: MinLength
                suit: Spades
                count: 4

      - call: "3C"
        variants:
          - name: "Slam Try Clubs"
            priority: 20
            description: "10+ HCP, 6+ Clubs"
            constraints:
              - type: MinHCP
                min: 10
              - type: MinLength
                suit: Clubs
                count: 6

      - call: "3D"
        variants:
          - name: "Slam Try Diamonds"
            priority: 20
            description: "10+ HCP, 6+ Diamonds"
            constraints:
              - type: MinHCP
                min: 10
              - type: MinLength
                suit: Diamonds
                count: 6

      - call: "3N"
        variants:
          - name: "Sign-off Game"
            priority: 10
            description: "10-15 HCP"
            constraints:
              - type: MinHCP
                min: 10

      - call: "2S"
        variants:
          - name: "Invitation with 5 Spades"
            priority: 20
            description: "8-9 HCP, 5 Spades, 4 Hearts"
            constraints:
              - type: MinHCP
                min: 8
              - type: MaxHCP
                max: 9
              - type: MinLength
                suit: Spades
                count: 5
              - type: MinLength
                suit: Hearts
                count: 4

      - call: "2H"
        variants:
          - name: "Invitation with 5 Hearts"
            priority: 20
            description: "8-9 HCP, 5 Hearts, 4 Spades"
            constraints:
              - type: MinHCP
                min: 8
              - type: MaxHCP
                max: 9
              - type: MinLength
                suit: Hearts
                count: 5
              - type: MinLength
                suit: Spades
                count: 4

      - call: "2N"
        variants:
          - name: "Invitation"
            priority: 10
            description: "8-9 HCP"
            constraints:
              - type: MinHCP
                min: 8
              - type: MaxHCP
                max: 9

  # Responder rebid after Stayman (Partner bid Hearts)
  - pattern: "1N P 2C P 2H P"
    rules:
      - call: "4H"
        variants:
          - name: "Sign-off Game in Major"
            priority: 10
            description: "10-15 HCP, 4 Hearts"
            constraints:
              - type: MinHCP
                min: 10
              - type: MinLength
                suit: Hearts
                count: 4
      - call: "3C"
        variants:
          - name: "Slam Try Clubs"
            priority: 20
            description: "10+ HCP, 6+ Clubs"
            constraints:
              - type: MinHCP
                min: 10
              - type: MinLength
                suit: Clubs
                count: 6
      - call: "3D"
        variants:
          - name: "Slam Try Diamonds"
            priority: 20
            description: "10+ HCP, 6+ Diamonds"
            constraints:
              - type: MinHCP
                min: 10
              - type: MinLength
                suit: Diamonds
                count: 6
      - call: "3N"
        variants:
          - name: "Sign-off Game in NT"
            priority: 10
            description: "10-15 HCP, <4 Hearts"
            constraints:
              - type: MinHCP
                min: 10
      - call: "3H"
        variants:
          - name: "Invite in Major"
            priority: 10
            description: "8-9 HCP, 4 Hearts"
            constraints:
              - type: MinHCP
                min: 8
              - type: MaxHCP
                max: 9
              - type: MinLength
                suit: Hearts
                count: 4
      - call: "2N"
        variants:
          - name: "Invite in NT"
            priority: 10
            description: "8-9 HCP, <4 Hearts"
            constraints:
              - type: MinHCP
                min: 8
              - type: MaxHCP
                max: 9

  # Responder rebid after Stayman (Partner bid Spades)
  - pattern: "1N P 2C P 2S P"
    rules:
      - call: "4S"
        variants:
          - name: "Sign-off Game in Major"
            priority: 10
            description: "10-15 HCP, 4 Spades"
            constraints:
              - type: MinHCP
                min: 10
              - type: MinLength
                suit: Spades
                count: 4
      - call: "3C"
        variants:
          - name: "Slam Try Clubs"
            priority: 20
            description: "10+ HCP, 6+ Clubs"
            constraints:
              - type: MinHCP
                min: 10
              - type: MinLength
                suit: Clubs
                count: 6
      - call: "3D"
        variants:
          - name: "Slam Try Diamonds"
            priority: 20
            description: "10+ HCP, 6+ Diamonds"
            constraints:
              - type: MinHCP
                min: 10
              - type: MinLength
                suit: Diamonds
                count: 6
      - call: "3N"
        variants:
          - name: "Sign-off Game in NT"
            priority: 10
            description: "10-15 HCP, <4 Spades"
            constraints:
              - type: MinHCP
                min: 10
      - call: "3S"
        variants:
          - name: "Invite in Major"
            priority: 10
            description: "8-9 HCP, 4 Spades"
            constraints:
              - type: MinHCP
                min: 8
              - type: MaxHCP
                max: 9
              - type: MinLength
                suit: Spades
                count: 4
      - call: "2N"
        variants:
          - name: "Invite in NT"
            priority: 10
            description: "8-9 HCP, <4 Spades"
            constraints:
              - type: MinHCP
                min: 8
              - type: MaxHCP
                max: 9

  - pattern: "2N P"
    rules:
      - call: "3C"
        variants:
          - name: "Stayman (Hearts)"
            priority: 25
            description: "Interest in Hearts over 2NT"
            constraints:
              - type: MinLength
                suit: Hearts
                count: 4
          - name: "Stayman (Spades)"
            priority: 25
            description: "Interest in Spades over 2NT"
            constraints:
              - type: MinLength
                suit: Spades
                count: 4

  # Opener's rebid after Stayman over 2NT
  - pattern: "2N P 3C P"
    rules:
      - call: "3D"
        variants:
          - name: "No 4-card Major"
            priority: 10
            description: "Denied 4-card major after Stayman over 2NT"
            constraints:
              - type: MaxLength
                suit: Hearts
                count: 3
              - type: MaxLength
                suit: Spades
                count: 3
      - call: "3H"
        variants:
          - name: "4-card Heart Suit"
            priority: 21
            description: "Shows 4 hearts after Stayman over 2NT"
            constraints:
              - type: MinLength
                suit: Hearts
                count: 4
      - call: "3S"
        variants:
          - name: "4-card Spade Suit"
            priority: 20
            description: "Shows 4 spades after Stayman over 2NT"
            constraints:
              - type: MinLength
                suit: Spades
                count: 4
