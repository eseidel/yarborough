# SAYC Bidding Rules
# This file defines the rules for the Standard American Yellow Card (SAYC) system.
# Using tagged untion format for Constraints.

opening:
  - call: "P"
    variants:
      - name: "Pass"
        priority: 1
        description: "Less than 12 HCP"
        constraints:
          - type: MaxHCP
            max: 11

  - call: "1C"
    variants:
      - name: "Opening 1C"
        priority: 10
        description: "12-21 HCP, 3+ Clubs, no 5-card major"
        constraints:
          - type: MinHCP
            min: 12
          - type: MaxHCP
            max: 21
          - type: MinLength
            suit: Clubs
            count: 3

  - call: "1D"
    variants:
      - name: "Opening 1D"
        priority: 10
        description: "12-21 HCP, 3+ Diamonds, no 5-card major"
        constraints:
          - type: MinHCP
            min: 12
          - type: MaxHCP
            max: 21
          - type: MinLength
            suit: Diamonds
            count: 3

  - call: "1H"
    variants:
      - name: "Opening 1H"
        priority: 20
        description: "12-21 HCP, 5+ Hearts"
        constraints:
          - type: MinHCP
            min: 12
          - type: MaxHCP
            max: 21
          - type: MinLength
            suit: Hearts
            count: 5

  - call: "1S"
    variants:
      - name: "Opening 1S"
        priority: 20
        description: "12-21 HCP, 5+ Spades"
        constraints:
          - type: MinHCP
            min: 12
          - type: MaxHCP
            max: 21
          - type: MinLength
            suit: Spades
            count: 5

  - call: "1N"
    variants:
      - name: "Opening 1NT"
        priority: 30
        description: "15-17 HCP, Balanced"
        constraints:
          - type: MinHCP
            min: 15
          - type: MaxHCP
            max: 17
          - type: IsBalanced
            balanced: true

  - call: "2C"
    variants:
      - name: "Strong 2C"
        priority: 50
        description: "22+ HCP or 9+ Tricks"
        constraints:
          - type: MinHCP
            min: 22

  - call: "2D"
    variants:
      - name: "Weak 2D"
        priority: 20
        description: "6-10 HCP, 6 Diamonds"
        constraints:
          - type: MinHCP
            min: 6
          - type: MaxHCP
            max: 10
          - type: MinLength
            suit: Diamonds
            count: 6

  - call: "2H"
    variants:
      - name: "Weak 2H"
        priority: 20
        description: "6-10 HCP, 6 Hearts"
        constraints:
          - type: MinHCP
            min: 6
          - type: MaxHCP
            max: 10
          - type: MinLength
            suit: Hearts
            count: 6

  - call: "2S"
    variants:
      - name: "Weak 2S"
        priority: 20
        description: "6-10 HCP, 6 Spades"
        constraints:
          - type: MinHCP
            min: 6
          - type: MaxHCP
            max: 10
          - type: MinLength
            suit: Spades
            count: 6

  - call: "2N"
    variants:
      - name: "Opening 2NT"
        priority: 30
        description: "20-21 HCP, Balanced"
        constraints:
          - type: MinHCP
            min: 20
          - type: MaxHCP
            max: 21
          - type: IsBalanced
            balanced: true

responses:
  - pattern: "1N P"
    rules:
      - call: "2C"
        variants:
          - name: "Stayman (5-4 Majors)"
            priority: 30
            description: "8+ HCP, 5 Spades, 4 Hearts"
            constraints:
              - type: MinHCP
                min: 8
              - type: MinLength
                suit: Spades
                count: 5
              - type: MinLength
                suit: Hearts
                count: 4
              - type: MaxLength
                suit: Hearts
                count: 4

          - name: "Stayman (4-5 Majors)"
            priority: 30
            description: "8+ HCP, 4 Spades, 5 Hearts"
            constraints:
              - type: MinHCP
                min: 8
              - type: MinLength
                suit: Spades
                count: 4
              - type: MaxLength
                suit: Spades
                count: 4
              - type: MinLength
                suit: Hearts
                count: 5

          - name: "Stayman (Club Slam Try)"
            priority: 15
            description: "10+ HCP, 6+ Clubs"
            constraints:
              - type: MinHCP
                min: 10
              - type: MinLength
                suit: Clubs
                count: 6

          - name: "Stayman (Diamond Slam Try)"
            priority: 15
            description: "10+ HCP, 6+ Diamonds"
            constraints:
              - type: MinHCP
                min: 10
              - type: MinLength
                suit: Diamonds
                count: 6

          - name: "Stayman (4H)"
            priority: 10
            description: "8+ HCP, 4 Hearts"
            constraints:
              - type: MinHCP
                min: 8
              - type: MinLength
                suit: Hearts
                count: 4

          - name: "Stayman (4S)"
            priority: 10
            description: "8+ HCP, 4 Spades"
            constraints:
              - type: MinHCP
                min: 8
              - type: MinLength
                suit: Spades
                count: 4

          - name: "Stayman (5S 5D Game Force)"
            priority: 25
            description: "Checkback with 5S 5D, GF"
            constraints:
              - type: MinHCP
                min: 13
              - type: MinLength
                suit: Spades
                count: 5
              - type: MinLength
                suit: Diamonds
                count: 5

      - call: "2D"
        variants:
          - name: "Jacoby Transfer to Hearts"
            priority: 20
            description: "5+ Hearts"
            constraints:
              - type: MinLength
                suit: Hearts
                count: 5

      - call: "2H"
        variants:
          - name: "Jacoby Transfer to Spades"
            priority: 20
            description: "5+ Spades"
            constraints:
              - type: MinLength
                suit: Spades
                count: 5
          - name: "Jacoby Transfer to Spades (5-5 Majors)"
            priority: 25
            description: "5 Spades, 5 Hearts, Inv+"
            constraints:
              - type: MinHCP
                min: 8
              - type: MinLength
                suit: Spades
                count: 5
              - type: MinLength
                suit: Hearts
                count: 5
              - type: MaxLength
                suit: Hearts
                count: 5



      - call: "2N"
        variants:
          - name: "Invitation (Strong)"
            priority: 10
            description: "9 HCP Balanced"
            constraints:
              - type: MinHCP
                min: 9
              - type: MaxHCP
                max: 9
              - type: IsBalanced
                balanced: true
          - name: "Invitation (Clubs)"
            priority: 10
            description: "8-9 HCP, 5 Clubs"
            constraints:
              - type: MinHCP
                min: 8
              - type: MaxHCP
                max: 9
              - type: MinLength
                suit: Clubs
                count: 5
          - name: "Invitation (Diamonds)"
            priority: 10
            description: "8-9 HCP, 5 Diamonds"
            constraints:
              - type: MinHCP
                min: 8
              - type: MaxHCP
                max: 9
              - type: MinLength
                suit: Diamonds
                count: 5

      - call: "3C"
        variants:
          - name: "Slam Try Clubs"
            priority: 10
            description: "10+ HCP, 6+ Clubs"
            constraints:
              - type: MinHCP
                min: 10
              - type: MinLength
                suit: Clubs
                count: 6

      - call: "3D"
        variants:
          - name: "Slam Try Diamonds"
            priority: 10
            description: "10+ HCP, 6+ Diamonds"
            constraints:
              - type: MinHCP
                min: 10
              - type: MinLength
                suit: Diamonds
                count: 6

      - call: "3H"
        variants:
          - name: "Slam Try Hearts"
            priority: 30
            description: "10+ HCP, 6+ Hearts"
            constraints:
              - type: MinHCP
                min: 10
              - type: MinLength
                suit: Hearts
                count: 6

      - call: "3S"
        variants:
          - name: "Slam Try Spades"
            priority: 30
            description: "10+ HCP, 6+ Spades"
            constraints:
              - type: MinHCP
                min: 10
              - type: MinLength
                suit: Spades
                count: 6

      - call: "3N"
        variants:
          - name: "Sign-off Game"
            priority: 10
            description: "10-15 HCP Balanced"
            constraints:
              - type: MinHCP
                min: 10
              - type: IsBalanced
                balanced: true

      - call: "4N"
        variants:
          - name: "Quantitative Invite"
            priority: 20
            description: "16-17 HCP Balanced"
            constraints:
              - type: MinHCP
                min: 16
              - type: IsBalanced
                balanced: true

      - call: "4S"
        variants:
          - name: "Weak Game Jump"
            priority: 20
            description: "Long Spades, weakish"
            constraints:
              - type: MinHCP
                min: 8
              - type: MinLength
                suit: Spades
                count: 6

      - call: "4H"
        variants:
          - name: "Weak Game Jump"
            priority: 20
            description: "Long Hearts, weakish"
            constraints:
              - type: MinHCP
                min: 8
              - type: MinLength
                suit: Hearts
                count: 6

  # Responder rebid after Stayman (Partner denied major)
  - pattern: "1N P 2C P 2D P"
    rules:
      - call: "3S"
        variants:
          - name: "Smolen / 5S-4H Game Force"
            priority: 20
            description: "10-15 HCP, 5 Spades, 4 Hearts"
            constraints:
              - type: MinHCP
                min: 10
              - type: MinLength
                suit: Spades
                count: 5
              - type: MinLength
                suit: Hearts
                count: 4

      - call: "3H"
        variants:
          - name: "Smolen / 5H-4S Game Force"
            priority: 20
            description: "10-15 HCP, 5 Hearts, 4 Spades"
            constraints:
              - type: MinHCP
                min: 10
              - type: MinLength
                suit: Hearts
                count: 5
              - type: MinLength
                suit: Spades
                count: 4

      - call: "3C"
        variants:
          - name: "Slam Try Clubs"
            priority: 20
            description: "10+ HCP, 6+ Clubs"
            constraints:
              - type: MinHCP
                min: 10
              - type: MinLength
                suit: Clubs
                count: 6

      - call: "3D"
        variants:
          - name: "Slam Try Diamonds"
            priority: 20
            description: "10+ HCP, 6+ Diamonds"
            constraints:
              - type: MinHCP
                min: 10
              - type: MinLength
                suit: Diamonds
                count: 6

      - call: "3N"
        variants:
          - name: "Sign-off Game"
            priority: 10
            description: "10-15 HCP"
            constraints:
              - type: MinHCP
                min: 10

      - call: "2S"
        variants:
          - name: "Invitation with 5 Spades"
            priority: 20
            description: "8-9 HCP, 5 Spades, 4 Hearts"
            constraints:
              - type: MinHCP
                min: 8
              - type: MaxHCP
                max: 9
              - type: MinLength
                suit: Spades
                count: 5
              - type: MinLength
                suit: Hearts
                count: 4

      - call: "2H"
        variants:
          - name: "Invitation with 5 Hearts"
            priority: 20
            description: "8-9 HCP, 5 Hearts, 4 Spades"
            constraints:
              - type: MinHCP
                min: 8
              - type: MaxHCP
                max: 9
              - type: MinLength
                suit: Hearts
                count: 5
              - type: MinLength
                suit: Spades
                count: 4

      - call: "2N"
        variants:
          - name: "Invitation"
            priority: 10
            description: "8-9 HCP"
            constraints:
              - type: MinHCP
                min: 8
              - type: MaxHCP
                max: 9
      # Pass is default fallback

  # Responder rebid after Stayman (Partner bid Hearts)
  - pattern: "1N P 2C P 2H P"
    rules:
      - call: "4H"
        variants:
          - name: "Sign-off Game in Major"
            priority: 10
            description: "10-15 HCP, 4 Hearts"
            constraints:
              - type: MinHCP
                min: 10
              - type: MinLength
                suit: Hearts
                count: 4
      - call: "3C"
        variants:
          - name: "Slam Try Clubs"
            priority: 20
            description: "10+ HCP, 6+ Clubs"
            constraints:
              - type: MinHCP
                min: 10
              - type: MinLength
                suit: Clubs
                count: 6
      - call: "3D"
        variants:
          - name: "Slam Try Diamonds"
            priority: 20
            description: "10+ HCP, 6+ Diamonds"
            constraints:
              - type: MinHCP
                min: 10
              - type: MinLength
                suit: Diamonds
                count: 6
      - call: "3N"
        variants:
          - name: "Sign-off Game in NT"
            priority: 10
            description: "10-15 HCP, <4 Hearts"
            constraints:
              - type: MinHCP
                min: 10
      - call: "3H"
        variants:
          - name: "Invite in Major"
            priority: 10
            description: "8-9 HCP, 4 Hearts"
            constraints:
              - type: MinHCP
                min: 8
              - type: MaxHCP
                max: 9
              - type: MinLength
                suit: Hearts
                count: 4
      - call: "2N"
        variants:
          - name: "Invite in NT"
            priority: 10
            description: "8-9 HCP, <4 Hearts"
            constraints:
              - type: MinHCP
                min: 8
              - type: MaxHCP
                max: 9
      # Pass is default fallback

  # Responder rebid after Stayman (Partner bid Spades)
  - pattern: "1N P 2C P 2S P"
    rules:
      - call: "4S"
        variants:
          - name: "Sign-off Game in Major"
            priority: 10
            description: "10-15 HCP, 4 Spades"
            constraints:
              - type: MinHCP
                min: 10
              - type: MinLength
                suit: Spades
                count: 4
      - call: "3C"
        variants:
          - name: "Slam Try Clubs"
            priority: 20
            description: "10+ HCP, 6+ Clubs"
            constraints:
              - type: MinHCP
                min: 10
              - type: MinLength
                suit: Clubs
                count: 6
      - call: "3D"
        variants:
          - name: "Slam Try Diamonds"
            priority: 20
            description: "10+ HCP, 6+ Diamonds"
            constraints:
              - type: MinHCP
                min: 10
              - type: MinLength
                suit: Diamonds
                count: 6
      - call: "3N"
        variants:
          - name: "Sign-off Game in NT"
            priority: 10
            description: "10-15 HCP, <4 Spades"
            constraints:
              - type: MinHCP
                min: 10
      - call: "3S"
        variants:
          - name: "Invite in Major"
            priority: 10
            description: "8-9 HCP, 4 Spades"
            constraints:
              - type: MinHCP
                min: 8
              - type: MaxHCP
                max: 9
              - type: MinLength
                suit: Spades
                count: 4
      - call: "2N"
        variants:
          - name: "Invite in NT"
            priority: 10
            description: "8-9 HCP, <4 Spades"
            constraints:
              - type: MinHCP
                min: 8
              - type: MaxHCP
                max: 9
      # Pass is default fallback

  # Responder rebid after Transfer to Hearts (Accepted by partner)
  - pattern: "1N P 2D P 2H P"
    rules:
      - call: "4H"
        variants:
          - name: "Sign-off Game"
            priority: 25
            description: "10-15 HCP, 6 Hearts"
            constraints:
               - type: MinHCP
                 min: 8
               - type: MinLength
                 suit: Hearts
                 count: 6
      - call: "3S"
        variants:
          - name: "Game Force New Suit"
            priority: 20
            description: "5 Hearts, 5 Spades GF"
            constraints:
               - type: MinHCP
                 min: 10
               - type: MinLength
                 suit: Hearts
                 count: 5
               - type: MinLength
                 suit: Spades
                 count: 5
      - call: "3C"
        variants:
          - name: "Game Force New Suit"
            priority: 20
            description: "5 Hearts, 5 Clubs GF"
            constraints:
               - type: MinHCP
                 min: 10
               - type: MinLength
                 suit: Hearts
                 count: 5
               - type: MinLength
                 suit: Clubs
                 count: 5
      - call: "3D"
        variants:
          - name: "Game Force New Suit"
            priority: 20
            description: "5 Hearts, 5 Diamonds GF"
            constraints:
               - type: MinHCP
                 min: 10
               - type: MinLength
                 suit: Hearts
                 count: 5
               - type: MinLength
                 suit: Diamonds
                 count: 5
      - call: "3N"
        variants:
          - name: "Game Force Choice"
            priority: 10
            description: "10-15 HCP, 5 Hearts"
            constraints:
               - type: MinHCP
                 min: 10
               - type: MinLength
                 suit: Hearts
                 count: 5
      - call: "3H"
        variants:
          - name: "Invite"
            priority: 10
            description: "8-9 HCP, 6 Hearts"
            constraints:
               - type: MinHCP
                 min: 6
               - type: MaxHCP
                 max: 9
               - type: MinLength
                 suit: Hearts
                 count: 6
      - call: "2N"
        variants:
          - name: "Invite Choice"
            priority: 10
            description: "8-9 HCP, 5 Hearts"
            constraints:
               - type: MinHCP
                 min: 8
               - type: MaxHCP
                 max: 9
               - type: MinLength
                 suit: Hearts
                 count: 5
      - call: "2S"
        variants:
          - name: "5-5 Majors (Weak/Inv)"
            priority: 20
            description: "5+ Hearts, 5+ Spades"
            constraints:
               - type: MinHCP
                 min: 5
               - type: MinLength
                 suit: Hearts
                 count: 5
               - type: MinLength
                 suit: Spades
                 count: 5

  # Responder rebid after Transfer to Spades (Accepted by partner)
  - pattern: "1N P 2H P 2S P"
    rules:
      - call: "4S"
        variants:
          - name: "Sign-off Game"
            priority: 25
            description: "10-15 HCP, 6 Spades"
            constraints:
               - type: MinHCP
                 min: 8
               - type: MinLength
                 suit: Spades
                 count: 6
      - call: "4H"
        variants:
          - name: "Game Force 5-5 Majors (Limit)"
            priority: 25
            description: "5+ Spades, 5+ Hearts, GF Limit"
            constraints:
               - type: MinHCP
                 min: 10
               - type: MaxHCP
                 max: 12
               - type: MinLength
                 suit: Spades
                 count: 5
               - type: MinLength
                 suit: Hearts
                 count: 5
      - call: "3H"
        variants:
          - name: "Game Force New Suit"
            priority: 20
            description: "5 Spades, 5 Hearts GF"
            constraints:
               - type: MinHCP
                 min: 10
               - type: MinLength
                 suit: Spades
                 count: 5
               - type: MinLength
                 suit: Hearts
                 count: 5
      - call: "3C"
        variants:
          - name: "Game Force New Suit"
            priority: 20
            description: "5 Spades, 5 Clubs GF"
            constraints:
               - type: MinHCP
                 min: 10
               - type: MinLength
                 suit: Spades
                 count: 5
               - type: MinLength
                 suit: Clubs
                 count: 5
      - call: "3D"
        variants:
          - name: "Game Force New Suit"
            priority: 20
            description: "5 Spades, 5 Diamonds GF"
            constraints:
               - type: MinHCP
                 min: 10
               - type: MinLength
                 suit: Spades
                 count: 5
               - type: MinLength
                 suit: Diamonds
                 count: 5
      - call: "3N"
        variants:
          - name: "Game Force Choice"
            priority: 10
            description: "10-15 HCP, 5 Spades"
            constraints:
               - type: MinHCP
                 min: 10
               - type: MinLength
                 suit: Spades
                 count: 5
      - call: "3S"
        variants:
          - name: "Invite"
            priority: 10
            description: "8-9 HCP, 6 Spades"
            constraints:
               - type: MinHCP
                 min: 6
               - type: MaxHCP
                 max: 9
               - type: MinLength
                 suit: Spades
                 count: 6
      - call: "2N"
        variants:
          - name: "Invite Choice"
            priority: 10
            description: "8-9 HCP, 5 Spades"
            constraints:
               - type: MinHCP
                 min: 8
               - type: MaxHCP
                 max: 9
               - type: MinLength
                 suit: Spades
                 count: 5

      - call: "2N"
        variants:
          - name: "Invitation (Strong)"
            priority: 10
            description: "9 HCP Balanced"
            constraints:
              - type: MinHCP
                min: 9
              - type: MaxHCP
                max: 9
              - type: IsBalanced
                balanced: true
          - name: "Invitation (Clubs)"
            priority: 10
            description: "8-9 HCP, 5 Clubs"
            constraints:
              - type: MinHCP
                min: 8
              - type: MaxHCP
                max: 9
              - type: MinLength
                suit: Clubs
                count: 5
          - name: "Invitation (Diamonds)"
            priority: 10
            description: "8-9 HCP, 5 Diamonds"
            constraints:
              - type: MinHCP
                min: 8
              - type: MaxHCP
                max: 9
              - type: MinLength
                suit: Diamonds
                count: 5

      - call: "3C"
        variants:
          - name: "Slam Try Clubs"
            priority: 10
            description: "10+ HCP, 6+ Clubs"
            constraints:
              - type: MinHCP
                min: 10
              - type: MinLength
                suit: Clubs
                count: 6

      - call: "3D"
        variants:
          - name: "Slam Try Diamonds"
            priority: 10
            description: "10+ HCP, 6+ Diamonds"
            constraints:
              - type: MinHCP
                min: 10
              - type: MinLength
                suit: Diamonds
                count: 6

      - call: "3H"
        variants:
          - name: "Slam Try Hearts"
            priority: 30
            description: "10+ HCP, 6+ Hearts"
            constraints:
              - type: MinHCP
                min: 10
              - type: MinLength
                suit: Hearts
                count: 6

      - call: "3S"
        variants:
          - name: "Slam Try Spades"
            priority: 30
            description: "10+ HCP, 6+ Spades"
            constraints:
              - type: MinHCP
                min: 10
              - type: MinLength
                suit: Spades
                count: 6

      - call: "3N"
        variants:
          - name: "Sign-off Game"
            priority: 10
            description: "10-15 HCP Balanced"
            constraints:
              - type: MinHCP
                min: 10
              - type: IsBalanced
                balanced: true

      - call: "4N"
        variants:
          - name: "Quantitative Invite"
            priority: 20
            description: "16-17 HCP Balanced"
            constraints:
              - type: MinHCP
                min: 16
              - type: IsBalanced
                balanced: true

      - call: "4S"
        variants:
          - name: "Weak Game Jump"
            priority: 20
            description: "Long Spades, weakish"
            constraints:
              - type: MinHCP
                min: 8
              - type: MinLength
                suit: Spades
                count: 6

      - call: "4H"
        variants:
          - name: "Weak Game Jump"
            priority: 20
            description: "Long Hearts, weakish"
            constraints:
              - type: MinHCP
                min: 8
              - type: MinLength
                suit: Hearts
                count: 6

  # Responder rebid after Stayman (Partner denied major)
  - pattern: "1N P 2C P 2D P"
    rules:
      - call: "3S"
        variants:
          - name: "Smolen / 5S-4H Game Force"
            priority: 20
            description: "10-15 HCP, 5 Spades, 4 Hearts"
            constraints:
              - type: MinHCP
                min: 10
              - type: MinLength
                suit: Spades
                count: 5
              - type: MinLength
                suit: Hearts
                count: 4

      - call: "3H"
        variants:
          - name: "Smolen / 5H-4S Game Force"
            priority: 20
            description: "10-15 HCP, 5 Hearts, 4 Spades"
            constraints:
              - type: MinHCP
                min: 10
              - type: MinLength
                suit: Hearts
                count: 5
              - type: MinLength
                suit: Spades
                count: 4

      - call: "3N"
        variants:
          - name: "Sign-off Game"
            priority: 10
            description: "10-15 HCP"
            constraints:
              - type: MinHCP
                min: 10

      - call: "2S"
        variants:
          - name: "Invitation with 5 Spades"
            priority: 20
            description: "8-9 HCP, 5 Spades, 4 Hearts"
            constraints:
              - type: MinHCP
                min: 8
              - type: MaxHCP
                max: 9
              - type: MinLength
                suit: Spades
                count: 5
              - type: MinLength
                suit: Hearts
                count: 4

      - call: "2H"
        variants:
          - name: "Invitation with 5 Hearts"
            priority: 20
            description: "8-9 HCP, 5 Hearts, 4 Spades"
            constraints:
              - type: MinHCP
                min: 8
              - type: MaxHCP
                max: 9
              - type: MinLength
                suit: Hearts
                count: 5
              - type: MinLength
                suit: Spades
                count: 4

      - call: "2N"
        variants:
          - name: "Invitation"
            priority: 10
            description: "8-9 HCP"
            constraints:
              - type: MinHCP
                min: 8
              - type: MaxHCP
                max: 9
      # Pass is default fallback

  # Responder rebid after Stayman (Partner bid Hearts)
  - pattern: "1N P 2C P 2H P"
    rules:
      - call: "4H"
        variants:
          - name: "Sign-off Game in Major"
            priority: 10
            description: "10-15 HCP, 4 Hearts"
            constraints:
              - type: MinHCP
                min: 10
              - type: MinLength
                suit: Hearts
                count: 4
      - call: "3N"
        variants:
          - name: "Sign-off Game in NT"
            priority: 10
            description: "10-15 HCP, <4 Hearts"
            constraints:
              - type: MinHCP
                min: 10
      - call: "3H"
        variants:
          - name: "Invite in Major"
            priority: 10
            description: "8-9 HCP, 4 Hearts"
            constraints:
              - type: MinHCP
                min: 8
              - type: MaxHCP
                max: 9
              - type: MinLength
                suit: Hearts
                count: 4
      - call: "2N"
        variants:
          - name: "Invite in NT"
            priority: 10
            description: "8-9 HCP, <4 Hearts"
            constraints:
              - type: MinHCP
                min: 8
              - type: MaxHCP
                max: 9
      # Pass is default fallback

  # Responder rebid after Stayman (Partner bid Spades)
  - pattern: "1N P 2C P 2S P"
    rules:
      - call: "4S"
        variants:
          - name: "Sign-off Game in Major"
            priority: 10
            description: "10-15 HCP, 4 Spades"
            constraints:
              - type: MinHCP
                min: 10
              - type: MinLength
                suit: Spades
                count: 4
      - call: "3N"
        variants:
          - name: "Sign-off Game in NT"
            priority: 10
            description: "10-15 HCP, <4 Spades"
            constraints:
              - type: MinHCP
                min: 10
      - call: "3S"
        variants:
          - name: "Invite in Major"
            priority: 10
            description: "8-9 HCP, 4 Spades"
            constraints:
              - type: MinHCP
                min: 8
              - type: MaxHCP
                max: 9
              - type: MinLength
                suit: Spades
                count: 4
      - call: "2N"
        variants:
          - name: "Invite in NT"
            priority: 10
            description: "8-9 HCP, <4 Spades"
            constraints:
              - type: MinHCP
                min: 8
              - type: MaxHCP
                max: 9
      # Pass is default fallback

  # Responder rebid after Transfer to Hearts (Accepted by partner)
  - pattern: "1N P 2D P 2H P"
    rules:
      - call: "4H"
        variants:
          - name: "Sign-off Game"
            priority: 25
            description: "10-15 HCP, 6 Hearts"
            constraints:
               - type: MinHCP
                 min: 8
               - type: MinLength
                 suit: Hearts
                 count: 6
      - call: "3N"
        variants:
          - name: "Game Force Choice"
            priority: 10
            description: "10-15 HCP, 5 Hearts"
            constraints:
               - type: MinHCP
                 min: 10
               - type: MinLength
                 suit: Hearts
                 count: 5
      - call: "3H"
        variants:
          - name: "Invite"
            priority: 10
            description: "8-9 HCP, 6 Hearts"
            constraints:
               - type: MinHCP
                 min: 6
               - type: MaxHCP
                 max: 9
               - type: MinLength
                 suit: Hearts
                 count: 6
      - call: "3S"
        variants:
          - name: "Game Force New Suit"
            priority: 20
            description: "5 Hearts, 5 Spades GF"
            constraints:
               - type: MinHCP
                 min: 10
               - type: MinLength
                 suit: Hearts
                 count: 5
               - type: MinLength
                 suit: Spades
                 count: 5
      - call: "3C"
        variants:
          - name: "Game Force New Suit"
            priority: 20
            description: "5 Hearts, 5 Clubs GF"
            constraints:
               - type: MinHCP
                 min: 10
               - type: MinLength
                 suit: Hearts
                 count: 5
               - type: MinLength
                 suit: Clubs
                 count: 5
      - call: "3D"
        variants:
          - name: "Game Force New Suit"
            priority: 20
            description: "5 Hearts, 5 Diamonds GF"
            constraints:
               - type: MinHCP
                 min: 10
               - type: MinLength
                 suit: Hearts
                 count: 5
               - type: MinLength
                 suit: Diamonds
                 count: 5
      - call: "2N"
        variants:
          - name: "Invite Choice"
            priority: 10
            description: "8-9 HCP, 5 Hearts"
            constraints:
               - type: MinHCP
                 min: 8
               - type: MaxHCP
                 max: 9
               - type: MinLength
                 suit: Hearts
                 count: 5
      - call: "2S"
        variants:
          - name: "5-5 Majors (Weak/Inv)"
            priority: 20
            description: "5+ Hearts, 5+ Spades"
            constraints:
               - type: MinHCP
                 min: 5
               - type: MinLength
                 suit: Hearts
                 count: 5
               - type: MinLength
                 suit: Spades
                 count: 5

  # Responder rebid after Transfer to Spades (Accepted by partner)
  - pattern: "1N P 2H P 2S P"
    rules:
      - call: "4S"
        variants:
          - name: "Sign-off Game"
            priority: 25
            description: "10-15 HCP, 6 Spades"
            constraints:
               - type: MinHCP
                 min: 8
               - type: MinLength
                 suit: Spades
                 count: 6
      - call: "3N"
        variants:
          - name: "Game Force Choice"
            priority: 10
            description: "10-15 HCP, 5 Spades"
            constraints:
               - type: MinHCP
                 min: 10
               - type: MinLength
                 suit: Spades
                 count: 5
      - call: "3H"
        variants:
          - name: "Game Force New Suit"
            priority: 20
            description: "5 Spades, 5 Hearts GF"
            constraints:
               - type: MinHCP
                 min: 10
               - type: MinLength
                 suit: Spades
                 count: 5
               - type: MinLength
                 suit: Hearts
                 count: 5
      - call: "3C"
        variants:
          - name: "Game Force New Suit"
            priority: 20
            description: "5 Spades, 5 Clubs GF"
            constraints:
               - type: MinHCP
                 min: 10
               - type: MinLength
                 suit: Spades
                 count: 5
               - type: MinLength
                 suit: Clubs
                 count: 5
      - call: "3D"
        variants:
          - name: "Game Force New Suit"
            priority: 20
            description: "5 Spades, 5 Diamonds GF"
            constraints:
               - type: MinHCP
                 min: 10
               - type: MinLength
                 suit: Spades
                 count: 5
               - type: MinLength
                 suit: Diamonds
                 count: 5
      - call: "3S"
        variants:
          - name: "Invite"
            priority: 10
            description: "8-9 HCP, 6 Spades"
            constraints:
               - type: MinHCP
                 min: 6
               - type: MaxHCP
                 max: 9
               - type: MinLength
                 suit: Spades
                 count: 6
      - call: "2N"
        variants:
          - name: "Invite Choice"
            priority: 10
            description: "8-9 HCP, 5 Spades"
            constraints:
               - type: MinHCP
                 min: 8
               - type: MaxHCP
                 max: 9
               - type: MinLength
                 suit: Spades
                 count: 5

